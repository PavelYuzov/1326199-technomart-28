var link=document.querySelector(".contacts-section__link"),popup=document.querySelector(".popup-off"),popupclose=document.querySelector(".popup__close"),name1name2=document.querySelector(".name1-name2"),form=document.querySelector(".popup-on"),buttonpopup=document.querySelector(".popup__button"),email=document.querySelector(".email-js"),comment=document.querySelector(".textArea"),linkmap=document.querySelector(".contacts-section__img"),map=document.querySelector(".popup-map-off"),mapclose=document.querySelector(".map__close"),error=document.querySelector(".popup-error"),buttonactive=document.querySelector(".button-active"),button1=document.querySelector(".services-section-item__button1"),button2=document.querySelector(".services-section-item__button2"),button3=document.querySelector(".services-section-item__button3"),delivery=document.querySelector(".delivery-wrap"),guarantee=document.querySelector(".guarantee-wrap"),credit=document.querySelector(".credit-wrap"),services=document.querySelectorAll(".services-section-item"),services1=document.querySelectorAll(".services-section-item"),hidden=document.querySelector(".section-hidden"),perfo=document.querySelector(".promo-perforator"),drill=document.querySelector(".promo-drill"),none=document.querySelector(".promo-none"),next=document.querySelector(".widget-promo__slide-next"),previous=document.querySelector(".widget-promo__slide-previous"),bgperfo=document.querySelector(".widget-promo-perfo"),radio1=document.querySelector(".widget-promo-radio1"),radio2=document.querySelector(".widget-promo-radio2"),popupbasket=document.querySelector(".popup-basket"),popupbasketoff=document.querySelector(".popup-basket-off"),popupbasketclose=document.querySelector(".popup-basket__close"),popupbasketbutton=document.querySelector(".popup-basket-button2"),buttonbasket=document.querySelectorAll(".product-card-choice__link"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(e),popup.classList.remove("popup-off"),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.add("popup-off"),popup.classList.remove("popup-error"))}),storage?(name1name2.value=storage,email.focus()):name1name2.focus()}),popupclose.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("popup-off"),popup.classList.remove("popup-error")}),form.addEventListener("submit",function(e){name1name2.value&&email.value&&comment.value?localStorage.setItem("name",name1name2.value):(e.preventDefault(),popup.classList.remove("popup-off"),popup.classList.remove("popup-error"),popup.offsetWidth,popup.classList.add("popup-error"))}),linkmap.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("popup-map-off"),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),map.classList.add("popup-map-off"),popup.classList.remove("popup-error"))})}),mapclose.addEventListener("click",function(e){e.preventDefault(),map.classList.add("popup-map-off")}),next.addEventListener("click",function(e){e.preventDefault(),perfo.classList.toggle("promo-perforator"),perfo.classList.toggle("promo-none"),drill.classList.toggle("promo-none"),drill.classList.toggle("promo-drill"),bgperfo.classList.toggle("widget-promo-perfo"),bgperfo.classList.toggle("widget-promo-drill"),radio2.classList.toggle("widget-promo-radio2"),radio1.classList.toggle("widget-promo-radio1")}),previous.addEventListener("click",function(e){e.preventDefault(),perfo.classList.toggle("promo-perforator"),perfo.classList.toggle("promo-none"),drill.classList.toggle("promo-none"),drill.classList.toggle("promo-drill"),bgperfo.classList.toggle("widget-promo-perfo"),bgperfo.classList.toggle("widget-promo-drill"),radio2.classList.toggle("widget-promo-radio2"),radio1.classList.toggle("widget-promo-radio1")}),services[0].addEventListener("click",function(e){e.preventDefault(),delivery.classList.remove("section-hidden"),guarantee.classList.add("section-hidden"),credit.classList.add("section-hidden")}),services[1].addEventListener("click",function(e){e.preventDefault(),delivery.classList.add("section-hidden"),guarantee.classList.remove("section-hidden"),credit.classList.add("section-hidden")}),services[2].addEventListener("click",function(e){e.preventDefault(),delivery.classList.add("section-hidden"),guarantee.classList.add("section-hidden"),credit.classList.remove("section-hidden")}),services1[0].addEventListener("click",function(e){e.preventDefault(),button1.classList.add("button-active"),button2.classList.remove("button-active"),button3.classList.remove("button-active")}),services1[1].addEventListener("click",function(e){e.preventDefault(),button1.classList.remove("button-active"),button2.classList.add("button-active"),button3.classList.remove("button-active")}),services1[2].addEventListener("click",function(e){e.preventDefault(),button1.classList.remove("button-active"),button2.classList.remove("button-active"),button3.classList.add("button-active")});for(var i=0;i<buttonbasket.length;i++)buttonbasket[i].addEventListener("click",function(e){e.preventDefault(),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupbasketoff.classList.add("popup-basket-off"))}),popupbasketoff.classList.remove("popup-basket-off")});popupbasketclose.addEventListener("click",function(e){e.preventDefault(),popupbasketoff.classList.add("popup-basket-off")}),popupbasketbutton.addEventListener("click",function(e){e.preventDefault(),popupbasketoff.classList.add("popup-basket-off")});